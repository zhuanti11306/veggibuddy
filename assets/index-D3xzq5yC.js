import{H as s,s as e,v as a,M as t,y as i,N as l,I as v}from"./index-BruxziNw.js";import{p as n,f as o,s as c,c as m,n as r,g as d,t as g,k as u,N as f,o as b,b as p,i as h,m as k,l as y,h as I,z as _,A as j,d as x,I as F,y as D,B as q,j as w,C as A}from"./index-B74hZ3uX.js";var C=(s,e,a,t)=>e(a(),t()),M=o('<button type="button" class="btn svelte-7oef1v"> </button>'),N=o('<div class="loading svelte-7oef1v">請稍候...</div>'),O=o('<div class="container svelte-7oef1v"><div class="item-info svelte-7oef1v"><img class="item-image svelte-7oef1v"/> <div class="item-detail svelte-7oef1v"><div class="item-label svelte-7oef1v"> </div> <div class="item-owned svelte-7oef1v"> </div></div> <div class="item-functions svelte-7oef1v"></div></div> <div class="item-description svelte-7oef1v"> </div> <!></div>');function $(t,i){n(i,!0);const l=k(()=>a[i.item.itemId]?.quantity??0);let v=p(!1);function o(s,e){const a=s();a instanceof Promise?(I(v,!0),a.finally(()=>{I(v,!1),e&&i.closeDialog()})):e&&i.closeDialog()}var x=O(),F=m(x),D=m(F),q=c(D,2),w=m(q),A=m(w),$=c(w,2),z=m($),B=c(q,2);r(B,21,()=>L[i.item.itemId],f,(s,e)=>{var a=M();a.__click=[C,o,()=>d(e).use,()=>d(e).close];var t=m(a);g(()=>h(t,d(e).name)),u(s,a)});var H=c(F,2),P=m(H),E=c(H,2),G=s=>{var e=N();_(3,e,()=>j,()=>({duration:250})),u(s,e)};b(E,s=>{d(v)&&s(G)}),g(s=>{e(D,"src",s),e(D,"alt",i.item.name),h(A,i.item.name),h(z,`已擁有：${d(l)??""} 個`),h(P,i.item.description)},[()=>s(i.item.itemId).src]),u(t,x),y()}x(["click"]);var z=()=>history.back(),B=(s,e)=>q($,{props:{item:d(e)}}),H=o('<button class="item svelte-10sg6n3"><img class="item-image svelte-10sg6n3"/> <p class="label svelte-10sg6n3"> </p></button>'),P=o('<div class="empty-item svelte-10sg6n3"><div class="empty-item-img svelte-10sg6n3"></div></div>'),E=o('<div class="list-container svelte-10sg6n3"><div class="list svelte-10sg6n3"><!> <!></div></div>'),G=o('<div class="loading svelte-10sg6n3">載入中……</div>'),J=o('<main class="svelte-10sg6n3"><header class="svelte-10sg6n3"><h1 class="label svelte-10sg6n3">我的背包</h1> <button class="back svelte-10sg6n3"><img alt="back" class="svelte-10sg6n3"/></button></header> <!> <footer class="svelte-10sg6n3"></footer></main>');function K(l,v){n(v,!1);const o=t();F();var b=J(),p=m(b),k=c(m(p),2);k.__click=[z];var I=m(k),_=c(p,2);D(_,()=>o,s=>{var e=G();u(s,e)},t=>{var i=E(),l=m(i),v=m(l);r(v,1,()=>Object.values(a),f,(a,t)=>{var i=H();i.__click=[B,t];var l=m(i),v=c(l,2),n=m(v);g(s=>{e(l,"src",s),e(l,"alt",d(t).name),h(n,`×${d(t).quantity??""}`)},[()=>s(d(t).itemId)?.src??""]),w("error",l,s=>s.preventDefault()),u(a,i)});var n=c(v,2);r(n,1,()=>Array.from({length:Math.max(0,24-(Object.keys(a).length??0))}),f,(s,e)=>{var a=P();u(s,a)}),u(t,i)}),g(()=>e(I,"src",i.back.src)),u(l,b),y()}x(["click"]);const L={[v.coin]:[{name:"前往商店",use:()=>A("/game/shop"),close:!0}],[v.generalFood]:[{name:"餵食寵物",use:()=>l(v.generalFood)}],[v.premiumFood]:[{name:"餵食寵物",use:()=>l(v.premiumFood)}],[v.translator]:[{name:"與寵物對話",use:()=>A("/game/chat"),close:!0}],[v.veggieCam]:[{name:"躲貓貓",use:()=>A("/game/hide-and-seek"),close:!0}],[v.ball]:[{name:"丟球時間",use:()=>A("/game/throwing-ball"),close:!0}]};export{K as default,L as itemFunctions};
