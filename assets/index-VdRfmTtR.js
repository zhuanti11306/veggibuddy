import{D as U,j as H,J as R,o as V,K as S,I as m}from"./settings.svelte-5XoKg5x_.js";import{g as T}from"./index-DXLImrLQ.js";import{g as W}from"./index-z8AOIN_J.js";import{g as X}from"./index-CmDaI5qH.js";import{p as z,M as Y,j as a,w as Z,h as d,C as o,l as t,a as J,A as O,b as v,Q as K,u as L,r as E,H as F,B as x,g as G,v as Q,t as $,m as ee,d as N,F as te,c as ae,f as se,e as ie}from"./vendor-BHUJVZvY.js";import{o as ve}from"./dialogs-Cklb8uX6.js";import"./firebase-Nwrn9kXS.js";import"./page-DAZzhzK-.js";var oe=(h,e,g,l)=>e(g(),l()),le=d('<button type="button" class="btn svelte-7oef1v"> </button>'),re=d('<div class="loading svelte-7oef1v">請稍候...</div>'),ne=d('<div class="container svelte-7oef1v"><div class="item-info svelte-7oef1v"><img class="item-image svelte-7oef1v"/> <div class="item-detail svelte-7oef1v"><div class="item-label svelte-7oef1v"> </div> <div class="item-owned svelte-7oef1v"> </div></div> <div class="item-functions svelte-7oef1v"></div></div> <div class="item-description svelte-7oef1v"> </div> <!></div>');function ce(h,e){z(e,!0);const g=Z(()=>H[e.item.itemId]?.quantity??0);let l=E(!1);function D(s,i){const c=s();c instanceof Promise?(Q(l,!0),c.finally(()=>{Q(l,!1),i&&e.closeDialog()})):i&&e.closeDialog()}Y(()=>{a(g)===0&&e.closeDialog()});var k=ne(),j=t(k),p=t(j),q=o(p,2),w=t(q),r=t(w),f=o(w,2),P=t(f),A=o(q,2);J(A,21,()=>he[e.item.itemId],K,(s,i)=>{let c=()=>a(i).name,I=()=>a(i).use,b=()=>a(i).close;var y=le();y.__click=[oe,D,I,b];var B=t(y);O(()=>x(B,c())),v(s,y)});var M=o(j,2),u=t(M),n=o(M,2);{var _=s=>{var i=re();$(3,i,()=>ee,()=>({duration:250})),v(s,i)};L(n,s=>{a(l)&&s(_)})}O(s=>{F(p,"src",s),F(p,"alt",e.item.name),x(r,e.item.name),x(P,`已擁有：${a(g)??""} 個`),x(u,e.item.description)},[()=>U(e.item.itemId).src]),v(h,k),G()}N(["click"]);var me=()=>history.back(),de=d('<div class="loading svelte-10sg6n3">載入中……</div>'),ge=(h,e)=>ve(ce,{props:{item:a(e)}}),ue=d('<button class="item svelte-10sg6n3"><img class="item-image svelte-10sg6n3"/> <p class="label svelte-10sg6n3"> </p></button>'),fe=d('<div class="empty-item svelte-10sg6n3"><div class="empty-item-img svelte-10sg6n3"></div></div>'),_e=d('<div class="list-container svelte-10sg6n3"><div class="list svelte-10sg6n3"><!> <!></div></div>'),be=d('<main class="svelte-10sg6n3"><header class="svelte-10sg6n3"><h1 class="label svelte-10sg6n3">我的背包</h1> <button class="back svelte-10sg6n3"><img alt="back" class="svelte-10sg6n3"/></button></header> <!> <footer class="svelte-10sg6n3"></footer></main>');function qe(h,e){z(e,!0);let g=E(!0);te(()=>{R().then(()=>Q(g,!1))});var l=be(),D=t(l),k=o(t(D),2);k.__click=[me];var j=t(k),p=o(D,2);{var q=r=>{var f=de();v(r,f)},w=r=>{var f=_e(),P=t(f),A=t(P);J(A,17,()=>Object.values(H),K,(u,n)=>{var _=ae(),s=se(_);{var i=c=>{var I=ue();I.__click=[ge,n];var b=t(I),y=o(b,2),B=t(y);O(C=>{F(b,"src",C),F(b,"alt",a(n).name),x(B,`×${a(n).quantity??""}`)},[()=>U(a(n).itemId)?.src??""]),ie("error",b,C=>C.preventDefault()),v(c,I)};L(s,c=>{a(n).quantity&&c(i)})}v(u,_)});var M=o(A,2);J(M,17,()=>Array.from({length:Math.max(0,24-Object.values(H).filter(u=>u.quantity).length)}),K,(u,n)=>{var _=fe();v(u,_)}),v(r,f)};L(p,r=>{a(g)?r(q):r(w,!1)})}O(()=>F(j,"src",V.back.src)),v(h,l),G()}N(["click"]);const he={[m.coin]:[{name:"前往商店",use:()=>T("/game/shop"),close:!0}],[m.generalFood]:[{name:"餵食寵物",use:()=>S(m.generalFood)}],[m.premiumFood]:[{name:"餵食寵物",use:()=>S(m.premiumFood)}],[m.translator]:[{name:"與寵物對話",use:()=>T("/game/chat"),close:!0}],[m.veggieCam]:[{name:"躲貓貓",use:()=>W(),close:!0}],[m.ball]:[{name:"丟球時間",use:()=>X(),close:!0}]};export{qe as default,he as itemFunctions};
