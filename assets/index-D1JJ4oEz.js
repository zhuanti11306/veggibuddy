import{G as Q,n as q,L as N,t as R,M as L,I as r}from"./settings.svelte-Crs8jiIO.js";import{g as H}from"./index-Bx7Yu5Yv.js";import{g as V}from"./index-BBQxqsF-.js";import{g as W}from"./index-_fPi-faB.js";import{p as S,M as X,j as i,w as Y,h as c,C as v,l as a,a as B,A as j,b as n,Q as C,u as T,r as U,F as x,B as I,g as z,v as G,t as Z,m as $,d as E,G as ee,e as te}from"./vendor-BEoA47yD.js";import{o as ae}from"./dialogs-DZWjIJ8s.js";import"./firebase-ClGKOlzQ.js";import"./page-W9zJQ1RE.js";var se=(_,e,m,o)=>e(m(),o()),ie=c('<button type="button" class="btn svelte-7oef1v"> </button>'),ve=c('<div class="loading svelte-7oef1v">請稍候...</div>'),oe=c('<div class="container svelte-7oef1v"><div class="item-info svelte-7oef1v"><img class="item-image svelte-7oef1v"/> <div class="item-detail svelte-7oef1v"><div class="item-label svelte-7oef1v"> </div> <div class="item-owned svelte-7oef1v"> </div></div> <div class="item-functions svelte-7oef1v"></div></div> <div class="item-description svelte-7oef1v"> </div> <!></div>');function le(_,e){S(e,!0);const m=Y(()=>q[e.item.itemId]?.quantity??0);let o=U(!1);function y(t,s){const f=t();f instanceof Promise?(G(o,!0),f.finally(()=>{G(o,!1),s&&e.closeDialog()})):s&&e.closeDialog()}X(()=>{i(m)===0&&e.closeDialog()});var b=oe(),F=a(b),h=a(F),D=v(h,2),w=a(D),l=a(w),u=v(w,2),O=a(u),A=v(D,2);B(A,21,()=>fe[e.item.itemId],C,(t,s)=>{let f=()=>i(s).name,p=()=>i(s).use,J=()=>i(s).close;var P=ie();P.__click=[se,y,p,J];var K=a(P);j(()=>I(K,f())),n(t,P)});var M=v(F,2),k=a(M),d=v(M,2);{var g=t=>{var s=ve();Z(3,s,()=>$,()=>({duration:250})),n(t,s)};T(d,t=>{i(o)&&t(g)})}j(t=>{x(h,"src",t),x(h,"alt",e.item.name),I(l,e.item.name),I(O,`已擁有：${i(m)??""} 個`),I(k,e.item.description)},[()=>Q(e.item.itemId).src]),n(_,b),z()}E(["click"]);var re=()=>history.back(),ne=c('<div class="loading svelte-10sg6n3">載入中……</div>'),ce=(_,e)=>ae(le,{props:{item:i(e)}}),me=c('<button class="item svelte-10sg6n3"><img class="item-image svelte-10sg6n3"/> <p class="label svelte-10sg6n3"> </p></button>'),de=c('<div class="empty-item svelte-10sg6n3"><div class="empty-item-img svelte-10sg6n3"></div></div>'),ge=c('<div class="list-container svelte-10sg6n3"><div class="list svelte-10sg6n3"><!> <!></div></div>'),ue=c('<main class="svelte-10sg6n3"><header class="svelte-10sg6n3"><h1 class="label svelte-10sg6n3">我的背包</h1> <button class="back svelte-10sg6n3"><img alt="back" class="svelte-10sg6n3"/></button></header> <!> <footer class="svelte-10sg6n3"></footer></main>');function Fe(_,e){S(e,!0);let m=U(!0);ee(()=>{N().then(()=>G(m,!1))});var o=ue(),y=a(o),b=v(a(y),2);b.__click=[re];var F=a(b),h=v(y,2);{var D=l=>{var u=ne();n(l,u)},w=l=>{var u=ge(),O=a(u),A=a(O);B(A,17,()=>Object.values(q),C,(k,d)=>{var g=me();g.__click=[ce,d];var t=a(g),s=v(t,2),f=a(s);j(p=>{x(t,"src",p),x(t,"alt",i(d).name),I(f,`×${i(d).quantity??""}`)},[()=>Q(i(d).itemId)?.src??""]),te("error",t,p=>p.preventDefault()),n(k,g)});var M=v(A,2);B(M,17,()=>Array.from({length:Math.max(0,24-(Object.keys(q).length??0))}),C,(k,d)=>{var g=de();n(k,g)}),n(l,u)};T(h,l=>{i(m)?l(D):l(w,!1)})}j(()=>x(F,"src",R.back.src)),n(_,o),z()}E(["click"]);const fe={[r.coin]:[{name:"前往商店",use:()=>H("/game/shop"),close:!0}],[r.generalFood]:[{name:"餵食寵物",use:()=>L(r.generalFood)}],[r.premiumFood]:[{name:"餵食寵物",use:()=>L(r.premiumFood)}],[r.translator]:[{name:"與寵物對話",use:()=>H("/game/chat"),close:!0}],[r.veggieCam]:[{name:"躲貓貓",use:()=>V(),close:!0}],[r.ball]:[{name:"丟球時間",use:()=>W(),close:!0}]};export{Fe as default,fe as itemFunctions};
