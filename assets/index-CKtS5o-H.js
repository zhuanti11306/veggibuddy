import{D as L,o as C,J as Q,v as R,K as B,I as n}from"./index-DfbJhxeW.js";import{p as M,f as c,s as i,c as s,n as J,g as v,t as j,k as r,J as z,o as S,b as T,i as I,m as V,l as U,h as K,z as W,A as X,d as E,I as Y,y as Z,B as $,j as ee,C as w}from"./index-CiVeqNK5.js";import{s as p}from"./GLTFLoader-CQaeW04e.js";var se=(_,e,f,l)=>e(f(),l()),ae=c('<button type="button" class="btn svelte-7oef1v"> </button>'),te=c('<div class="loading svelte-7oef1v">請稍候...</div>'),ie=c('<div class="container svelte-7oef1v"><div class="item-info svelte-7oef1v"><img class="item-image svelte-7oef1v"/> <div class="item-detail svelte-7oef1v"><div class="item-label svelte-7oef1v"> </div> <div class="item-owned svelte-7oef1v"> </div></div> <div class="item-functions svelte-7oef1v"></div></div> <div class="item-description svelte-7oef1v"> </div> <!></div>');function ve(_,e){M(e,!0);const f=V(()=>C[e.item.itemId]?.quantity??0);let l=T(!1);function y(t,a){const D=t();D instanceof Promise?(K(l,!0),D.finally(()=>{K(l,!1),a&&e.closeDialog()})):a&&e.closeDialog()}var b=ie(),x=s(b),h=s(x),g=i(h,2),d=s(g),A=s(d),F=i(d,2),O=s(F),k=i(g,2);J(k,21,()=>ge[e.item.itemId],z,(t,a)=>{let D=()=>v(a).name,G=()=>v(a).use,H=()=>v(a).close;var q=ae();q.__click=[se,y,G,H];var N=s(q);j(()=>I(N,D())),r(t,q)});var o=i(x,2),m=s(o),u=i(o,2);{var P=t=>{var a=te();W(3,a,()=>X,()=>({duration:250})),r(t,a)};S(u,t=>{v(l)&&t(P)})}j(t=>{p(h,"src",t),p(h,"alt",e.item.name),I(A,e.item.name),I(O,`已擁有：${v(f)??""} 個`),I(m,e.item.description)},[()=>L(e.item.itemId).src]),r(_,b),U()}E(["click"]);var le=()=>history.back(),oe=(_,e)=>$(ve,{props:{item:v(e)}}),ne=c('<button class="item svelte-10sg6n3"><img class="item-image svelte-10sg6n3"/> <p class="label svelte-10sg6n3"> </p></button>'),re=c('<div class="empty-item svelte-10sg6n3"><div class="empty-item-img svelte-10sg6n3"></div></div>'),ce=c('<div class="list-container svelte-10sg6n3"><div class="list svelte-10sg6n3"><!> <!></div></div>'),de=c('<div class="loading svelte-10sg6n3">載入中……</div>'),me=c('<main class="svelte-10sg6n3"><header class="svelte-10sg6n3"><h1 class="label svelte-10sg6n3">我的背包</h1> <button class="back svelte-10sg6n3"><img alt="back" class="svelte-10sg6n3"/></button></header> <!> <footer class="svelte-10sg6n3"></footer></main>');function be(_,e){M(e,!1);const f=Q();Y();var l=me(),y=s(l),b=i(s(y),2);b.__click=[le];var x=s(b),h=i(y,2);Z(h,()=>f,g=>{var d=de();r(g,d)},g=>{var d=ce(),A=s(d),F=s(A);J(F,1,()=>Object.values(C),z,(k,o)=>{var m=ne();m.__click=[oe,o];var u=s(m),P=i(u,2),t=s(P);j(a=>{p(u,"src",a),p(u,"alt",v(o).name),I(t,`×${v(o).quantity??""}`)},[()=>L(v(o).itemId)?.src??""]),ee("error",u,a=>a.preventDefault()),r(k,m)});var O=i(F,2);J(O,1,()=>Array.from({length:Math.max(0,24-(Object.keys(C).length??0))}),z,(k,o)=>{var m=re();r(k,m)}),r(g,d)}),j(()=>p(x,"src",R.back.src)),r(_,l),U()}E(["click"]);const ge={[n.coin]:[{name:"前往商店",use:()=>w("/game/shop"),close:!0}],[n.generalFood]:[{name:"餵食寵物",use:()=>B(n.generalFood)}],[n.premiumFood]:[{name:"餵食寵物",use:()=>B(n.premiumFood)}],[n.translator]:[{name:"與寵物對話",use:()=>w("/game/chat"),close:!0}],[n.veggieCam]:[{name:"躲貓貓",use:()=>w("/game/hide-and-seek"),close:!0}],[n.ball]:[{name:"丟球時間",use:()=>w("/game/throwing-ball"),close:!0}]};export{be as default,ge as itemFunctions};
