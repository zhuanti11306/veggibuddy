import{F as M,n as q,K as G,t as J,L,I as r}from"./settings.svelte-DYu5eymu.js";import{g as H}from"./index-B5aaZkSV.js";import{g as N}from"./index-CFoToKkY.js";import{g as R}from"./index-DAUYUezy.js";import{p as Q,h as c,C as i,l as t,a as B,j as v,A,b as n,Q as C,u as V,r as W,F as I,B as p,w as X,g as S,v as K,t as Y,m as Z,d as T,i as $,x as ee,e as te}from"./vendor-BEoA47yD.js";import{o as ae}from"./dialogs-DZWjIJ8s.js";import"./firebase-LKE9M92C.js";import"./page-B_hjlGuJ.js";var se=(_,e,f,o)=>e(f(),o()),ie=c('<button type="button" class="btn svelte-7oef1v"> </button>'),ve=c('<div class="loading svelte-7oef1v">請稍候...</div>'),oe=c('<div class="container svelte-7oef1v"><div class="item-info svelte-7oef1v"><img class="item-image svelte-7oef1v"/> <div class="item-detail svelte-7oef1v"><div class="item-label svelte-7oef1v"> </div> <div class="item-owned svelte-7oef1v"> </div></div> <div class="item-functions svelte-7oef1v"></div></div> <div class="item-description svelte-7oef1v"> </div> <!></div>');function le(_,e){Q(e,!0);const f=X(()=>q[e.item.itemId]?.quantity??0);let o=W(!1);function x(s,a){const w=s();w instanceof Promise?(K(o,!0),w.finally(()=>{K(o,!1),a&&e.closeDialog()})):a&&e.closeDialog()}var b=oe(),y=t(b),h=t(y),g=i(h,2),m=t(g),D=t(m),F=i(m,2),j=t(F),k=i(g,2);B(k,21,()=>_e[e.item.itemId],C,(s,a)=>{let w=()=>v(a).name,U=()=>v(a).use,z=()=>v(a).close;var P=ie();P.__click=[se,x,U,z];var E=t(P);A(()=>p(E,w())),n(s,P)});var l=i(y,2),d=t(l),u=i(l,2);{var O=s=>{var a=ve();Y(3,a,()=>Z,()=>({duration:250})),n(s,a)};V(u,s=>{v(o)&&s(O)})}A(s=>{I(h,"src",s),I(h,"alt",e.item.name),p(D,e.item.name),p(j,`已擁有：${v(f)??""} 個`),p(d,e.item.description)},[()=>M(e.item.itemId).src]),n(_,b),S()}T(["click"]);var re=()=>history.back(),ne=(_,e)=>ae(le,{props:{item:v(e)}}),ce=c('<button class="item svelte-10sg6n3"><img class="item-image svelte-10sg6n3"/> <p class="label svelte-10sg6n3"> </p></button>'),me=c('<div class="empty-item svelte-10sg6n3"><div class="empty-item-img svelte-10sg6n3"></div></div>'),de=c('<div class="list-container svelte-10sg6n3"><div class="list svelte-10sg6n3"><!> <!></div></div>'),ge=c('<div class="loading svelte-10sg6n3">載入中……</div>'),ue=c('<main class="svelte-10sg6n3"><header class="svelte-10sg6n3"><h1 class="label svelte-10sg6n3">我的背包</h1> <button class="back svelte-10sg6n3"><img alt="back" class="svelte-10sg6n3"/></button></header> <!> <footer class="svelte-10sg6n3"></footer></main>');function Fe(_,e){Q(e,!1);const f=G();$();var o=ue(),x=t(o),b=i(t(x),2);b.__click=[re];var y=t(b),h=i(x,2);ee(h,()=>f,g=>{var m=ge();n(g,m)},g=>{var m=de(),D=t(m),F=t(D);B(F,1,()=>Object.values(q),C,(k,l)=>{var d=ce();d.__click=[ne,l];var u=t(d),O=i(u,2),s=t(O);A(a=>{I(u,"src",a),I(u,"alt",v(l).name),p(s,`×${v(l).quantity??""}`)},[()=>M(v(l).itemId)?.src??""]),te("error",u,a=>a.preventDefault()),n(k,d)});var j=i(F,2);B(j,1,()=>Array.from({length:Math.max(0,24-(Object.keys(q).length??0))}),C,(k,l)=>{var d=me();n(k,d)}),n(g,m)}),A(()=>I(y,"src",J.back.src)),n(_,o),S()}T(["click"]);const _e={[r.coin]:[{name:"前往商店",use:()=>H("/game/shop"),close:!0}],[r.generalFood]:[{name:"餵食寵物",use:()=>L(r.generalFood)}],[r.premiumFood]:[{name:"餵食寵物",use:()=>L(r.premiumFood)}],[r.translator]:[{name:"與寵物對話",use:()=>H("/game/chat"),close:!0}],[r.veggieCam]:[{name:"躲貓貓",use:()=>N(),close:!0}],[r.ball]:[{name:"丟球時間",use:()=>R(),close:!0}]};export{Fe as default,_e as itemFunctions};
